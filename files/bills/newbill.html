<form id="billForm">
    <div class="container" style="margin:auto; width: 200mm;">
        <div class="form-inline">
            <label for="uniqueID" style="width:100px; margin:20px">uniqueID</label>
            <input class="form-control" type="number" id="uniqueID" name="uniqueID">
            <label for="clientID" style="width:100px; margin:20px">Client</label>
            <select class="form-control" id="clientID" name="clientID">

            </select>

        </div>

        <div class="form-inline">
            <label for="date" style="width:100px; margin:20px">date</label>
            <input class="form-control" type="date" id="date" name="date">

            <label for="dueDate" style="width:100px; margin:20px">dueDate</label>
            <input class="form-control" type="date" id="dueDate" name="dueDate">
        </div>

        <div class="form-inline">
            <label for="quantity" style="width:100px; margin:20px">quantity</label>
            <input class="form-control" type="number" id="quantity" name="quantity">

            <label for="rate" style="width:100px; margin:20px">rate</label>
            <input class="form-control" type="number" step="0.01" id="rate" name="rate">
        </div>
        <div class="form-inline">
            <label for="vat" style="width:100px; margin:20px">vat</label>
            <input class="form-control" type="number" step="0.01" id="vat" name="vat">
        </div>

        <div class="form-inline">

        </div>
        <br/>
        <div class="form-group row">
            <label for="description" style="width:120px">description</label>
            <textarea class="form-control" rows="20" id="description" name="description"></textarea>
        </div>

        <button class="btn btn-success" id="model-pdf">Show the model</button>
    </div>

</form>

<script>
    $(function () {

        const Datastore = require('nedb')


        const dbClients = new Datastore({ filename: './data/clients', autoload: true });

        dbClients.find({}, function (err, docs) {
            console.log(docs);

            Object.keys(docs).forEach(function(key) {
                $('#clientID').append(`<option value="${docs[key]["_id"]}">${docs[key]["clientName"]}</option>`)
            });

        });



        const content = $('#content');
        edited = 0;
        if (data !== null) {
            $('#uniqueID').val(data.uniqueID);
            $('#date').val(data.date);
            $('#dueDate').val(data.dueDate);
            $('#quantity').val(data.quantity);
            $('#rate').val(data.rate);
            $('#vat').val(data.vat);
            $('#description').val(data.description);
             edited = 1;
             _id = data._id;
        }


        //new bill to model
        $('#model-pdf').on('click', function (event) {
            event.preventDefault();

            // get all the inputs into an array.
            var $inputs = $('#billForm :input');

            data = {};
            $inputs.each(function() {
                data[this.name] = $(this).val();
            });
            const db = new Datastore({ filename: './data/savefile', autoload: true });
            db.insert(data, function (err, newDoc) {
                printID = newDoc._id;
                content.load('./files/bills/result.html', printID);

            });
        })
    });




</script>